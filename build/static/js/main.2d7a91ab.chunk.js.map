{"version":3,"sources":["components/Person.js","components/Formula.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","persons","filter","deleteName","length","name","startsWith","map","person","react_default","a","createElement","key","number","onClick","id","Formula","newName","newNumber","addName","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Notification","message","className","baseUrl","services_persons","getAll","axios","get","create","newObject","post","update","put","concat","destroy","delete","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","event","console","log","target","setState","handleFilterChange","preventDefault","persId","nameCheck","state","find","pers","window","confirm","updatedPerson","objectSpread","personsService","then","response","data","catch","error","setTimeout","persoName","delPerson","_this2","components_Notification","components_Formula","components_Person","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2d7a91ab.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ persons, filter, deleteName }) => {\r\n  const pplToShow = \r\n    filter.length === 0 ?\r\n      persons:\r\n      persons.filter(persons => persons.name.startsWith(filter))\r\n\r\n  return (\r\n    pplToShow.map(person => <li key={person.name}>{person.name} {person.number} <button onClick={() => deleteName(person.id)}>Poista</button></li>)\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Formula = ({ newName, newNumber, addName, handleNameChange, handleNumberChange}) => {\r\n\r\n    return (\r\n    <form onSubmit={addName}>\r\n        <div>\r\n            nimi: <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n            numero: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">lisää</button>\r\n        </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Formula","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"daijoubu\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst destroy = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\nexport default { getAll, create, update, destroy}","import React from 'react';\nimport Person from './components/Person'\nimport Formula from './components/Formula'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [\n      ],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      message: null\n    }\n  }\n\n  componentDidMount() {\n    personsService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        this.setState({ persons: response.data })\n      })\n  }\n\n  handleNameChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newName: event.target.value})\n  }\n\n  handleNumberChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newNumber: event.target.value})\n  }\n\n  handleFilterChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ filter: event.target.value})\n  }\n\n  addName = (event) => {\n    event.preventDefault()\n    const nameCheck = this.state.newName\n    let persId\n    const findRes = this.state.persons.find(function(pers){\n      if(pers.name === nameCheck){\n        persId = pers.id\n        return true\n      } else {\n        return false\n      }\n    })\n    if(!findRes) {\n      const persoName = { name: this.state.newName, number: this.state.newNumber}\n      personsService\n      .create(persoName)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: '',\n          message: `Lisättiin ${nameCheck}`\n        })\n        setTimeout(() => {\n          this.setState({message: null})\n        }, 3000)\n      })\n    } else {\n      if (window.confirm(`${nameCheck} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const person = this.state.persons.find(pers => pers.id === persId)\n        const updatedPerson = { ...person, number: this.state.newNumber }\n        personsService\n        .update(persId, updatedPerson)\n        .then(response => {\n          this.setState({\n            persons: this.state.persons.map(person => person.id !== persId ? person : response.data),\n            newName: '',\n            newNumber: '',\n            message: `Päivitettiin ${nameCheck}`\n          })\n        })\n        .catch(error => {\n          this.setState({\n            persons: this.state.persons.filter(pers => pers.id !== persId),\n            message: `Henkilö '${nameCheck}' on jo valitettavasti poistettu palvelimelta. Paina \"lisää\" uudestaan jos haluat lisätä henkilön palvelimelle.`\n          })\n        })\n          setTimeout(() => {\n            this.setState({message: null})\n          }, 3000)\n        }\n      }\n    }\n\n  deleteName = (id) => {\n    console.log('Try Deleting...')\n    const delPerson = this.state.persons.find(pers => pers.id === id)\n    if (window.confirm(`Poistetaanko henkilö ${delPerson.name}?`)) {\n      console.log('Deleting...')\n      personsService\n      .destroy(id)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.filter(pers => pers.id !== id),\n          newName: '',\n          newNumber: '',\n          message: `Poistettiin ${delPerson.name}`\n        })\n        setTimeout(() => {\n          this.setState({message: null})\n        }, 3000)\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <div>\n            <Notification message={this.state.message}/>\n            rajaa näytettäviä <input value={this.state.filter} onChange={this.handleFilterChange}/>\n          </div>\n        <h3>Lisää uusi:</h3>\n        <Formula newName={this.state.newName} newNumber={this.state.newNumber} addName={this.addName} handleNameChange={this.handleNameChange} handleNumberChange={this.handleNumberChange}/>\n        <h2>Numerot</h2>\n        <ul>\n          <Person persons={this.state.persons} filter={this.state.filter} deleteName={this.deleteName}/>\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}